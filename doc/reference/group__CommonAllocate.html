<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Common Allocation Routines</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul>
</div>
<h1>Common Allocation Routines<br>
<small>
[<a class="el" href="group__Common.html">Common</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to hold state of stack memory blocks.  <a href="structGan__MemoryStack.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gac41b7d172d1a4171deca71805c7e1a2"></a><!-- doxytag: member="CommonAllocate::obj_type" ref="gac41b7d172d1a4171deca71805c7e1a2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>obj_type</b>&nbsp;&nbsp;&nbsp;int x</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g43b73caa23cdcf8ffbdda60b271fa20f"></a><!-- doxytag: member="CommonAllocate::TM_TEST_MAGIC" ref="g43b73caa23cdcf8ffbdda60b271fa20f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>TM_TEST_MAGIC</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0d9aef1751ba4be1e5ddbb31facd463"></a><!-- doxytag: member="CommonAllocate::TM_MAGIC_NUMBER" ref="ga0d9aef1751ba4be1e5ddbb31facd463" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>TM_MAGIC_NUMBER</b>&nbsp;&nbsp;&nbsp;0x2f3ee7b1</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0648d1f3a18934daeab6424aa731240"></a><!-- doxytag: member="CommonAllocate::Gan_FreeFunc" ref="ga0648d1f3a18934daeab6424aa731240" args=")(void *)" -->
typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#ga0648d1f3a18934daeab6424aa731240">Gan_FreeFunc</a> )(void *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generic free function type. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g42f274ce0c4dd4532ab7bdf53534df20"></a><!-- doxytag: member="CommonAllocate::Gan_CopyFunc" ref="g42f274ce0c4dd4532ab7bdf53534df20" args=")(void *)" -->
typedef void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g42f274ce0c4dd4532ab7bdf53534df20">Gan_CopyFunc</a> )(void *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generic copy function type. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g48d9e8adedacfd00eaa5cc40a1066bd7"></a><!-- doxytag: member="CommonAllocate::Gan_BigType" ref="g48d9e8adedacfd00eaa5cc40a1066bd7" args="" -->
typedef double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g48d9e8adedacfd00eaa5cc40a1066bd7">Gan_BigType</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Big C type for byte alignment. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g600fc22abdc25d567d609a3e5e4e40c1">gan_free_va</a> (void *ptr,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees a <code>NULL</code> terminated variable argument list of memory blocks.  <a href="#g600fc22abdc25d567d609a3e5e4e40c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g926d427f3ae2630d820d2e477e85fbae">gan_malloc_object</a> (TYPE obj_type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Allocate an object of a specific type using <code>malloc()</code>.  <a href="#g926d427f3ae2630d820d2e477e85fbae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g8128fe40114ad188a60b1dfcab5f7bb0">gan_malloc_array</a> (TYPE obj_type, unsigned size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Allocate an array of objects of a specific type using <code>malloc()</code>.  <a href="#g8128fe40114ad188a60b1dfcab5f7bb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#gc4c64eb2a3f13fad11a75b63b8697dc3">gan_realloc_array</a> (TYPE obj_type, void *ptr, unsigned size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Reallocate an array of objects using <code>realloc()</code>.  <a href="#gc4c64eb2a3f13fad11a75b63b8697dc3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g42726091e5a2fbfdee44500706052a81">gan_memory_stack_form</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, int nblocks, size_t bsize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise temporary memory allocation structure.  <a href="#g42726091e5a2fbfdee44500706052a81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888">gan_ms_malloc</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary memory allocation routine, faster than malloc().  <a href="#g1e2630faf056dbcbbfebe7ac7dcc5888"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g492f766027fce663694193172530f5a8">gan_ms_free</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, void *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary memory free routine.  <a href="#g492f766027fce663694193172530f5a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#ge7dc7ddc6d92a3f4e8aecadfe4bcdad5">gan_ms_free_va</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, void *ptr,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees a list of temporaray blocks terminated by <code>NULL</code>.  <a href="#ge7dc7ddc6d92a3f4e8aecadfe4bcdad5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g10157a34720c7f748a4645ade25fa2d8">gan_memory_stack_free</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees all temporary memory.  <a href="#g10157a34720c7f748a4645ade25fa2d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g19cb0c16a2d114df46a3594b2db62a19">gan_memory_stack_clean</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees unused temporary memory.  <a href="#g19cb0c16a2d114df46a3594b2db62a19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g5ca0c20e18db245b0eea35e0b9203fda">gan_memory_stack_total</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the total temporary memory currently allocated.  <a href="#g5ca0c20e18db245b0eea35e0b9203fda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#gf40531a856d6ecac6a1050bb21b59403">gan_memory_stack_alloc</a> (int nblocks, size_t bsize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Allocate and initialise temporary memory allocation structure.  <a href="#gf40531a856d6ecac6a1050bb21b59403"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#gd720e9880fd64d8432f65044faed5cf5">gan_ms_malloc_object</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, TYPE obj_type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Dynamically allocate one item of a specific type with "stack" memory.  <a href="#gd720e9880fd64d8432f65044faed5cf5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CommonAllocate.html#g8cefc8e668334daf6995c8e4a3d4577e">gan_ms_malloc_array</a> (<a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *ms, TYPE obj_type, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro: Dynamically allocate <em>n</em> items of a specific type with "stack" memory.  <a href="#g8cefc8e668334daf6995c8e4a3d4577e"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g600fc22abdc25d567d609a3e5e4e40c1"></a><!-- doxytag: member="allocate.c::gan_free_va" ref="g600fc22abdc25d567d609a3e5e4e40c1" args="(void *ptr,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gan_free_va           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees a <code>NULL</code> terminated variable argument list of memory blocks. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>The first memory block to free </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>List of other blocks to free, terminated by <code>NULL</code> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>No value.</dd></dl>
Invokes <code>free()</code> to free each memory block in the list of pointers starting with <em>ptr</em> and ending with <code>NULL</code> .<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#g926d427f3ae2630d820d2e477e85fbae" title="Macro: Allocate an object of a specific type using malloc().">gan_malloc_object()</a>, <a class="el" href="group__CommonAllocate.html#g8128fe40114ad188a60b1dfcab5f7bb0" title="Macro: Allocate an array of objects of a specific type using malloc().">gan_malloc_array()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g8128fe40114ad188a60b1dfcab5f7bb0"></a><!-- doxytag: member="allocate.h::gan_malloc_array" ref="g8128fe40114ad188a60b1dfcab5f7bb0" args="(TYPE obj_type, unsigned size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gan_malloc_array           </td>
          <td>(</td>
          <td class="paramtype">TYPE&nbsp;</td>
          <td class="paramname"> <em>obj_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Allocate an array of objects of a specific type using <code>malloc()</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj_type</em>&nbsp;</td><td>The type of objects to be allocated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of objects to allocate for in the array </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The allocated array of objects, or <code>NULL</code> on failure.</dd></dl>
Invokes <code>malloc()</code> to dynamically allocate an array of objects of a specific type.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#g926d427f3ae2630d820d2e477e85fbae" title="Macro: Allocate an object of a specific type using malloc().">gan_malloc_object()</a>, <a class="el" href="group__CommonAllocate.html#gc4c64eb2a3f13fad11a75b63b8697dc3" title="Macro: Reallocate an array of objects using realloc().">gan_realloc_array()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g926d427f3ae2630d820d2e477e85fbae"></a><!-- doxytag: member="allocate.h::gan_malloc_object" ref="g926d427f3ae2630d820d2e477e85fbae" args="(TYPE obj_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gan_malloc_object           </td>
          <td>(</td>
          <td class="paramtype">TYPE&nbsp;</td>
          <td class="paramname"> <em>obj_type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Allocate an object of a specific type using <code>malloc()</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj_type</em>&nbsp;</td><td>The type of object to be allocated </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the allocated object, or <code>NULL</code> on failure.</dd></dl>
Invokes <code>malloc()</code> to dynamically allocate an object of a specific type.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#g8128fe40114ad188a60b1dfcab5f7bb0" title="Macro: Allocate an array of objects of a specific type using malloc().">gan_malloc_array()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf40531a856d6ecac6a1050bb21b59403"></a><!-- doxytag: member="memory_stack.h::gan_memory_stack_alloc" ref="gf40531a856d6ecac6a1050bb21b59403" args="(int nblocks, size_t bsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a>* gan_memory_stack_alloc           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Allocate and initialise temporary memory allocation structure. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nblocks</em>&nbsp;</td><td>Maximum number of blocks of memory to allow </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsize</em>&nbsp;</td><td>Size of each block in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to new structure, or <code>NULL</code> on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g19cb0c16a2d114df46a3594b2db62a19"></a><!-- doxytag: member="memory_stack.c::gan_memory_stack_clean" ref="g19cb0c16a2d114df46a3594b2db62a19" args="(Gan_MemoryStack *ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gan_memory_stack_clean           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees unused temporary memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure</td></tr>
  </table>
</dl>
Frees memory stack down to the last <a class="el" href="group__CommonAllocate.html#g492f766027fce663694193172530f5a8" title="Temporary memory free routine.">gan_ms_free()</a> call. 
</div>
</div><p>
<a class="anchor" name="g42726091e5a2fbfdee44500706052a81"></a><!-- doxytag: member="memory_stack.c::gan_memory_stack_form" ref="g42726091e5a2fbfdee44500706052a81" args="(Gan_MemoryStack *ms, int nblocks, size_t bsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> * gan_memory_stack_form           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise temporary memory allocation structure. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Memoru stack structure pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nblocks</em>&nbsp;</td><td>Maximum number of blocks of memory to allow </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsize</em>&nbsp;</td><td>Size of each block in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to initialised structure, or <code>NULL</code> on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g10157a34720c7f748a4645ade25fa2d8"></a><!-- doxytag: member="memory_stack.c::gan_memory_stack_free" ref="g10157a34720c7f748a4645ade25fa2d8" args="(Gan_MemoryStack *ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gan_memory_stack_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees all temporary memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure</td></tr>
  </table>
</dl>
Frees all memory allocated using calls to <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>. 
</div>
</div><p>
<a class="anchor" name="g5ca0c20e18db245b0eea35e0b9203fda"></a><!-- doxytag: member="memory_stack.c::gan_memory_stack_total" ref="g5ca0c20e18db245b0eea35e0b9203fda" args="(Gan_MemoryStack *ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t gan_memory_stack_total           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the total temporary memory currently allocated. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure</td></tr>
  </table>
</dl>
Returns the total temporary memory currently allocated by calls to <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>. 
</div>
</div><p>
<a class="anchor" name="g492f766027fce663694193172530f5a8"></a><!-- doxytag: member="memory_stack.c::gan_ms_free" ref="g492f766027fce663694193172530f5a8" args="(Gan_MemoryStack *ms, void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gan_ms_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Temporary memory free routine. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>Pointer to memory area to free, as returned by <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a></td></tr>
  </table>
</dl>
Temporary memory free routine, Memory must be freed in reverse of the order it was allocated using <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>. <a class="el" href="group__CommonAllocate.html#g492f766027fce663694193172530f5a8" title="Temporary memory free routine.">gan_ms_free()</a> does not actually free any memory, but allows the marked memory to be used in subsequent <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a> calls. After using the temporary memory, call <a class="el" href="group__CommonAllocate.html#g10157a34720c7f748a4645ade25fa2d8" title="Frees all temporary memory.">gan_memory_stack_free()</a> to actually free the memory blocks. 
</div>
</div><p>
<a class="anchor" name="ge7dc7ddc6d92a3f4e8aecadfe4bcdad5"></a><!-- doxytag: member="memory_stack.c::gan_ms_free_va" ref="ge7dc7ddc6d92a3f4e8aecadfe4bcdad5" args="(Gan_MemoryStack *ms, void *ptr,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gan_ms_free_va           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees a list of temporaray blocks terminated by <code>NULL</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>The first memory block to free </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>List of other blocks to free, terminated by <code>NULL</code> </td></tr>
  </table>
</dl>
Frees a list of temporaray blocks allocated by <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>, teminated by <code>NULL</code>. <a class="el" href="group__CommonAllocate.html#g492f766027fce663694193172530f5a8" title="Temporary memory free routine.">gan_ms_free()</a> is called for each block, preserving the order of the arguments in the calls. 
</div>
</div><p>
<a class="anchor" name="g1e2630faf056dbcbbfebe7ac7dcc5888"></a><!-- doxytag: member="memory_stack.c::gan_ms_malloc" ref="g1e2630faf056dbcbbfebe7ac7dcc5888" args="(Gan_MemoryStack *ms, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * gan_ms_malloc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Temporary memory allocation routine, faster than malloc(). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Pointer to memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Amount of memory to allocate in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Non <code>NULL</code> successfully allocated block, <code>NULL</code> on failure</dd></dl>
For allocating chunks of memory which can be freed in reverse order, The module allocates large blocks at a time using <em>malloc()</em>, the blocks being "a lot" bigger than the chunks to be <em><a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>'d</em>, to avoid wasting memory. Calls to <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a> then fill up the current block, and when the end is reached another block is <em>malloc()'d</em>. There's a dirty bit concerning memory alignment where I assume that everything should be aligned according to a "big" type (double). <em>malloc()</em> guarantees that it returns pointers that may be safely cast to any pointer type, but I (PFM) don't know how to do that properly in C. 
</div>
</div><p>
<a class="anchor" name="g8cefc8e668334daf6995c8e4a3d4577e"></a><!-- doxytag: member="memory_stack.h::gan_ms_malloc_array" ref="g8cefc8e668334daf6995c8e4a3d4577e" args="(Gan_MemoryStack *ms, TYPE obj_type, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gan_ms_malloc_array           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TYPE&nbsp;</td>
          <td class="paramname"> <em>obj_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Dynamically allocate <em>n</em> items of a specific type with "stack" memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj_type</em>&nbsp;</td><td>The type of objects to be allocated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of objects to allocate for in the array </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The allocated array of objects, or <code>NULL</code> on failure.</dd></dl>
Allocation function for allocating <em>size</em> items of the given <em>obj_type</em> in temporary stack-style memory. Implemented as a macro call to <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#gd720e9880fd64d8432f65044faed5cf5" title="Macro: Dynamically allocate one item of a specific type with &quot;stack&quot; memory...">gan_ms_malloc_object()</a>, <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd720e9880fd64d8432f65044faed5cf5"></a><!-- doxytag: member="memory_stack.h::gan_ms_malloc_object" ref="gd720e9880fd64d8432f65044faed5cf5" args="(Gan_MemoryStack *ms, TYPE obj_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gan_ms_malloc_object           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TYPE&nbsp;</td>
          <td class="paramname"> <em>obj_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Dynamically allocate one item of a specific type with "stack" memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>Memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj_type</em>&nbsp;</td><td>The type of objects to be allocated </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The allocated object, or <code>NULL</code> on failure.</dd></dl>
Allocation function for allocating 1 item of the given <em>obj_type</em> in temporary stack-style memory. Implemented as a macro call to <a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#g1e2630faf056dbcbbfebe7ac7dcc5888" title="Temporary memory allocation routine, faster than malloc().">gan_ms_malloc()</a>. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gc4c64eb2a3f13fad11a75b63b8697dc3"></a><!-- doxytag: member="allocate.h::gan_realloc_array" ref="gc4c64eb2a3f13fad11a75b63b8697dc3" args="(TYPE obj_type, void *ptr, unsigned size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gan_realloc_array           </td>
          <td>(</td>
          <td class="paramtype">TYPE&nbsp;</td>
          <td class="paramname"> <em>obj_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro: Reallocate an array of objects using <code>realloc()</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj_type</em>&nbsp;</td><td>The type of objects to be allocated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>The existing array to be reallocated or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of objects to allocate for in the array </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The reallocated array of objects, or <code>NULL</code> on failure.</dd></dl>
Invokes <code>realloc()</code> to dynamically reallocate an array of objects of a specific type. If <em>ptr</em> is passed as <code>NULL</code> then it is equivalent to calling <a class="el" href="group__CommonAllocate.html#g8128fe40114ad188a60b1dfcab5f7bb0" title="Macro: Allocate an array of objects of a specific type using malloc().">gan_malloc_array()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__CommonAllocate.html#g8128fe40114ad188a60b1dfcab5f7bb0" title="Macro: Allocate an array of objects of a specific type using malloc().">gan_malloc_array()</a>. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 27 20:53:42 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
