<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Hough Transform</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul>
</div>
<h1>Hough Transform<br>
<small>
[<a class="el" href="group__Vision.html">Vision Package</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>FHT_Path</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>FHT_Path</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd72dbcf6d0153db1b8d8a58001feed83"></a><!-- doxytag: member="HoughTransform::DEBUG" ref="gd72dbcf6d0153db1b8d8a58001feed83" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf52cf0d75c9c00241c8bb6419a96d83f"></a><!-- doxytag: member="HoughTransform::gel" ref="gf52cf0d75c9c00241c8bb6419a96d83f" args="(M, i, j)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>gel</b>(M, i, j)&nbsp;&nbsp;&nbsp;gan_mat_get_el(M,i,j)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__CommonMisc.html#g5b464bd74769e86a989ba8d7fe701cdd">Gan_Bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HoughTransform.html#g15833f3899f1ac70f7cfce9f0c295d11">gan_fast_hough_transform</a> (int k, <a class="el" href="structGan__Matrix.html">Gan_Matrix</a> *a, int *weight, int no_points, double *S0, double *X0, int max_level, int T_thres, <a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *memory_stack, double *X_best, int *level_best, int *accum_best, <a class="el" href="structGan__BitArray.html">Gan_BitArray</a> *list_best, int *subdivs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General purpose Fast Hough Transform (FHT) function.  <a href="#g15833f3899f1ac70f7cfce9f0c295d11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__CommonMisc.html#g5b464bd74769e86a989ba8d7fe701cdd">Gan_Bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HoughTransform.html#gf9907462e674b7c980cb1b9f3ec7e93a">gan_modified_fht2D</a> (double *x, double *y, int *weight, int no_points, double m_range, double c_range, double c_root, int max_level, int T_thres, <a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *memory_stack, double *m_best, double *c_best, int *level_best, int *accum_best, <a class="el" href="structGan__BitArray.html">Gan_BitArray</a> *list_best)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General purpose FHT line finder function.  <a href="#gf9907462e674b7c980cb1b9f3ec7e93a"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g15833f3899f1ac70f7cfce9f0c295d11"></a><!-- doxytag: member="fast_hough_transform.c::gan_fast_hough_transform" ref="g15833f3899f1ac70f7cfce9f0c295d11" args="(int k, Gan_Matrix *a, int *weight, int no_points, double *S0, double *X0, int max_level, int T_thres, Gan_MemoryStack *memory_stack, double *X_best, int *level_best, int *accum_best, Gan_BitArray *list_best, int *subdivs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CommonMisc.html#g5b464bd74769e86a989ba8d7fe701cdd">Gan_Bool</a> gan_fast_hough_transform           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGan__Matrix.html">Gan_Matrix</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>no_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>S0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>X0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>T_thres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>memory_stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>X_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>level_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>accum_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGan__BitArray.html">Gan_BitArray</a> *&nbsp;</td>
          <td class="paramname"> <em>list_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>subdivs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
General purpose Fast Hough Transform (FHT) function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>Dimensionality of parameter space </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>Feature space (k+1)-vectors arranged as a matrix </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>weight</em>&nbsp;</td><td>Weights assigned to each feature vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>no_points</em>&nbsp;</td><td>Number of data points </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>S0</em>&nbsp;</td><td>Half-range of parameters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>X0</em>&nbsp;</td><td>Centre of parameter ranges </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_level</em>&nbsp;</td><td>Maximum subdivision level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>T_thres</em>&nbsp;</td><td>Threshold <em>T</em> in FHT for deciding whether subdivide or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>memory_stack</em>&nbsp;</td><td>Pointer to memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>X_best</em>&nbsp;</td><td>Output best-fit parameters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level_best</em>&nbsp;</td><td>Output subdivision level reached by FHT </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>accum_best</em>&nbsp;</td><td>Output sum of weights of points with lines intersecting final hypersphere </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>list_best</em>&nbsp;</td><td>Output bit array bit-list, with 1's for points involved in best-fit result </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>subdivs</em>&nbsp;</td><td>Output total number of subdivisions </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__CommonMisc.html#gg5b464bd74769e86a989ba8d7fe701cdd72b147a4dc5aecae15cfff078ecf6565" title="Boolean true value.">GAN_TRUE</a> on success, <a class="el" href="group__CommonMisc.html#gg5b464bd74769e86a989ba8d7fe701cdda7df968e27a79f1f9ef48ba662b9dbe2" title="Boolean false value.">GAN_FALSE</a> on failure.</dd></dl>
For each feature point j the relationship between feature space uses parametrisation <p class="formulaDsp">
<img class="formulaDsp" alt="\[ a[j][0]*X[0] + ... + a[j][k-1]*X[k-1] + a[j][k] = 0 \]" src="form_320.png">
<p>
 (not normalised) where <em>X</em>[i] are the parameters and <em>k</em> is the dimensionality of parameter space. The starting parameter half-ranges are given by the <em>S0</em> vector, and the parameter origin by the <em>X0</em> vector. <em>S0</em> and <em>X0</em> thus define the root hypercube: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ X0[i] - S0[i] <= X[i] <= X0[i] + S0[i]. \]" src="form_321.png">
<p>
 This is a depth-first version of the FHT, i.e. the child hypercubes are subdivided exhaustively before trying another child. This minimises memory requirement by limiting it to <p class="formulaDsp">
<img class="formulaDsp" alt="\[ memory~for~one~subdivision~\times~maximum~subdivision~level. \]" src="form_322.png">
<p>
<p>
<em>a</em> contains feature space (k+1)-vectors arranged as a <em>no_points</em> by <em>k+1</em> matrix. 
</div>
</div><p>
<a class="anchor" name="gf9907462e674b7c980cb1b9f3ec7e93a"></a><!-- doxytag: member="modified_fht2D.c::gan_modified_fht2D" ref="gf9907462e674b7c980cb1b9f3ec7e93a" args="(double *x, double *y, int *weight, int no_points, double m_range, double c_range, double c_root, int max_level, int T_thres, Gan_MemoryStack *memory_stack, double *m_best, double *c_best, int *level_best, int *accum_best, Gan_BitArray *list_best)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CommonMisc.html#g5b464bd74769e86a989ba8d7fe701cdd">Gan_Bool</a> gan_modified_fht2D           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>no_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>m_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>c_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>c_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>max_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>T_thres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGan__MemoryStack.html">Gan_MemoryStack</a> *&nbsp;</td>
          <td class="paramname"> <em>memory_stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>m_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>c_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>level_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>accum_best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGan__BitArray.html">Gan_BitArray</a> *&nbsp;</td>
          <td class="paramname"> <em>list_best</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
General purpose FHT line finder function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>Array of x-coordinates of data points </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Array of y-coordinates of data points </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>weight</em>&nbsp;</td><td>Array of weights assigned to each point </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>no_points</em>&nbsp;</td><td>Number of data points </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m_range</em>&nbsp;</td><td>Range of line gradient </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c_range</em>&nbsp;</td><td>Range of line intercept </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c_root</em>&nbsp;</td><td>Centre point of intercept for root hypercube </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_level</em>&nbsp;</td><td>Maximum subdivision level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>T_thres</em>&nbsp;</td><td>Threshold T in FHT for deciding whether to subdivide </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>memory_stack</em>&nbsp;</td><td>Pointer to memory stack structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m_best</em>&nbsp;</td><td>Output gradient of best-fit line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c_best</em>&nbsp;</td><td>Output intercept of best-fit line </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level_best</em>&nbsp;</td><td>Output subdivision level reached by FHT </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>accum_best</em>&nbsp;</td><td>Output sum of weights of points with lines intersecting final hypersphere </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>list_best</em>&nbsp;</td><td>Output bit-list, with 1's for points involved in best-fit result</td></tr>
  </table>
</dl>
Uses parametrisation <p class="formulaDsp">
<img class="formulaDsp" alt="\[ y = m\:x + c \]" src="form_342.png">
<p>
 where <img class="formulaInl" alt="$ x,y $" src="form_343.png"> are the coordinates of a point on a plane and <img class="formulaInl" alt="$ (m,c) $" src="form_344.png"> are gradient/intercept line parameters. Each point <img class="formulaInl" alt="$ (x_i,y_i) $" src="form_345.png"> can be thought of as defining a line <p class="formulaDsp">
<img class="formulaDsp" alt="\[ c_i = y_i - m_i \times x_i \]" src="form_346.png">
<p>
 in <img class="formulaInl" alt="$ (m,c) $" src="form_344.png"> space, each point on the line in <img class="formulaInl" alt="$ (m,c) $" src="form_344.png"> space representing a line in <img class="formulaInl" alt="$ (x,y) $" src="form_347.png"> space passing through the point <img class="formulaInl" alt="$ (x_i,y_i) $" src="form_345.png">. The FHT starts with a root "hypercube" (in this case a rectangle) in <img class="formulaInl" alt="$ (m,c) $" src="form_344.png"> space defined by <p class="formulaDsp">
<img class="formulaDsp" alt="\[ -m_{\rm range}/2 <= m <= m_{\rm range}/2, c_{\rm root}-c_{\rm range}/2 <= c <= c_{\rm root}+c_{\rm range}/2, \]" src="form_348.png">
<p>
 and subdivides into 2x2 "child" hypercubes, checking each child to see whether enough <img class="formulaInl" alt="$ (m_i,c_i) $" src="form_349.png"> lines (greater than a threshold) intersect a hypersphere circumscribed around the hypercube. In fact the slightly more general approach here allows a weight to be assigned to each point, and the threshold is applied to the sum of weights of intersecting lines.<p>
This is a depth-first version of the FHT, i.e. the child hypercubes are subdivided exhaustively before trying another child. This minimises memory requirement by limiting it to <p class="formulaDsp">
<img class="formulaDsp" alt="\[ memory~for~one~subdivision~\times~maximum~subdivision~level. \]" src="form_322.png">
<p>
 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 27 20:53:47 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
